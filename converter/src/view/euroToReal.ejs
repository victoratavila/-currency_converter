<%- include ('./partials/header.ejs'); -%>
<body>

    <div class = "container">
        <section>
            <h1 id = "mainH1">Conversor online</h1> <br>
            <button type="button" class="btn btn-outline-success" style="font-weight: 600;" id = "preview">  € 1 = R$ <%= euro %>  </button> <br> <br>
            <div class = "form-inline" id = "mainInputs"> <br>
              
                <div class = "icons">
               <?xml version="1.0" encoding="iso-8859-1"?><!-- Generator: Adobe Illustrator 19.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  --><svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"	 viewBox="0 0 512 512" style="enable-background:new 0 0 512 512; height: 70px" xml:space="preserve"><circle style="fill:#0052B4;" cx="256" cy="256" r="256"/><g>	<polygon style="fill:#FFDA44;" points="256.001,100.174 264.29,125.683 291.11,125.683 269.411,141.448 277.7,166.957 		256.001,151.191 234.301,166.957 242.59,141.448 220.891,125.683 247.712,125.683 	"/>	<polygon style="fill:#FFDA44;" points="145.814,145.814 169.714,157.99 188.679,139.026 184.482,165.516 208.381,177.693 		181.89,181.889 177.694,208.381 165.517,184.482 139.027,188.679 157.992,169.714 	"/>	<polygon style="fill:#FFDA44;" points="100.175,256 125.684,247.711 125.684,220.89 141.448,242.59 166.958,234.301 151.191,256 		166.958,277.699 141.448,269.411 125.684,291.11 125.684,264.289 	"/>	<polygon style="fill:#FFDA44;" points="145.814,366.186 157.991,342.286 139.027,323.321 165.518,327.519 177.693,303.62 		181.89,330.111 208.38,334.307 184.484,346.484 188.679,372.974 169.714,354.009 	"/>	<polygon style="fill:#FFDA44;" points="256.001,411.826 247.711,386.317 220.891,386.317 242.591,370.552 234.301,345.045 		256.001,360.809 277.7,345.045 269.411,370.552 291.11,386.317 264.289,386.317 	"/>	<polygon style="fill:#FFDA44;" points="366.187,366.186 342.288,354.01 323.322,372.975 327.519,346.483 303.622,334.307 		330.112,330.111 334.308,303.62 346.484,327.519 372.974,323.321 354.009,342.288 	"/>	<polygon style="fill:#FFDA44;" points="411.826,256 386.317,264.289 386.317,291.11 370.552,269.41 345.045,277.699 360.81,256 		345.045,234.301 370.553,242.59 386.317,220.89 386.317,247.712 	"/>	<polygon style="fill:#FFDA44;" points="366.187,145.814 354.01,169.714 372.975,188.679 346.483,184.481 334.308,208.38 		330.112,181.889 303.622,177.692 327.519,165.516 323.322,139.027 342.289,157.991 	"/></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>
                <a href="/real-to-euro" title = "Inverter moedas" style="text-decoration: none;">
                  <svg width="2em" height="2em" style="cursor: pointer;" viewBox="0 0 16 16" class="bi bi-arrow-counterclockwise" fill="currentColor" xmlns="http://www.w3.org/2000/svg">
                    <path fill-rule="evenodd" d="M8 3a5 5 0 1 1-4.546 2.914.5.5 0 0 0-.908-.417A6 6 0 1 0 8 2v1z"/>
                    <path d="M8 4.466V.534a.25.25 0 0 0-.41-.192L5.23 2.308a.25.25 0 0 0 0 .384l2.36 1.966A.25.25 0 0 0 8 4.466z"/>
                  </svg>
                </a>
               
                <?xml version="1.0" encoding="iso-8859-1"?><!-- Generator: Adobe Illustrator 19.0.0, SVG Export Plug-In . SVG Version: 6.00 Build 0)  --><svg version="1.1" id="Layer_1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px"	 viewBox="0 0 512 512" style="enable-background:new 0 0 512 512; height: 70px" xml:space="preserve"><circle style="fill:#6DA544;" cx="256" cy="256" r="256"/><polygon style="fill:#FFDA44;" points="256,100.174 467.478,256 256,411.826 44.522,256 "/><circle style="fill:#F0F0F0;" cx="256" cy="256" r="89.043"/><g>	<path style="fill:#0052B4;" d="M211.478,250.435c-15.484,0-30.427,2.355-44.493,6.725c0.623,48.64,40.227,87.884,89.015,87.884		c30.168,0,56.812-15.017,72.919-37.968C301.362,272.579,258.961,250.435,211.478,250.435z"/>	<path style="fill:#0052B4;" d="M343.393,273.06c1.072-5.524,1.651-11.223,1.651-17.06c0-49.178-39.866-89.043-89.043-89.043		c-36.694,0-68.194,22.201-81.826,53.899c12.05-2.497,24.526-3.812,37.305-3.812C263.197,217.043,309.983,238.541,343.393,273.06z"		/></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g><g></g></svg>
                </div> <br>

                <form>
                <input type="text" required class = "form-control" id = "inputValue" placeholder="Digite o valor em euros" style="height: 50px; width: 300px; font-size: 20px; text-align: center;">
                <button  type="button" onclick = calcular() class = "btn btn-primary" id = "calculate" style="height: 50px; text-align: center; width: 120px; font-size: 20px;"> Converter </button>
                </form>

            </div> <br> <br>

            <h3 style="font-weight: 400"  id = "resultInfo" ></h3>
            <h2 id = "resultPlace" style="font-weight: bold;"></h2>
        </section>
    </div>

</body>

<script>
  
  
  function calcular(){
        const reais = document.getElementById('inputValue').value;
        const euro = '<%=euro%>';
        const finalValue = parseFloat((euro*reais).toFixed(2));
        const resultPlace = document.getElementById('resultPlace');
        const resultInfo = document.getElementById('resultInfo');
       
        if(finalValue <= 0 || finalValue == NaN ){
            resultInfo.innerHTML = 'Atenção:';
            resultPlace.innerHTML = 'Por favor informe um valor válido.';
        } else {
            resultInfo.innerHTML = 'Resultado';
            resultPlace.innerHTML = '€'+reais + ' = R$' + finalValue;
        }
 
    }


    // Restricts input for the given textbox to the given inputFilter function.
function setInputFilter(textbox, inputFilter) {
  ["input", "keydown", "keyup", "mousedown", "mouseup", "select", "contextmenu", "drop"].forEach(function(event) {
    textbox.addEventListener(event, function() {
      if (inputFilter(this.value)) {
        this.oldValue = this.value;
        this.oldSelectionStart = this.selectionStart;
        this.oldSelectionEnd = this.selectionEnd;
      } else if (this.hasOwnProperty("oldValue")) {
        this.value = this.oldValue;
        this.setSelectionRange(this.oldSelectionStart, this.oldSelectionEnd);
      } else {
        this.value = "";
      }
    });
  });
}

setInputFilter(document.getElementById("inputValue"), function(value) {
  return /^\d*\.?\d*$/.test(value); // Allow digits and '.' only, using a RegExp
});

</script>

<%- include ('./partials/footer.ejs'); -%>